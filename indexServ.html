<!DOCTYPE html>
<html>


<table id="chekers"></table>
<style>
input { border: 1px solid green; width: 30px; }
* { padding: 0; margin: 0;}
    	canvas { background: #4a8ef6; display: inline-block; margin: 10 auto; }
    	#secCanvas{
    		right: 100px;
			top: 5px;  
			 vertical-align: top;
			 margin : 0;

    	}
    	#myCanvas{
    		outline: 2px solid #000;
         left: 600px;
         top: 200px;
         margin: 0 auto;
    	}
</style>
<body>
  <canvas id ="canvas" width ='480' height = '480'></canvas>
<canvas id="secCanvas" width ='80' height = '80' ></canvas>

<script>

  
  
  const socket = new WebSocket('ws://127.0.0.1:8000/');
  
  
  socket.onopen = () => {
    document.addEventListener('mousemove', mouseMoveHandlerY, false);
    document.addEventListener('mousemove', mouseMoveHandlerX, false);
    document.addEventListener('mousedown', mousedown, false);
    document.addEventListener('mouseup', mouseup, false);
      console.log('connected');
      const canvas = document.getElementById('myCanvas');
      const turncanvas = document.getElementById('secCanvas');
      const ctx = canvas.getContext('2d');
      const X = 0; 
      const ctxturn = turncanvas.getContext('2d'); 
 
 
     // socket.send("lalalend");
    };
  
  
  function mouseMoveHandlerX(e) {
    const relativeX = e.clientX - canvas.offsetLeft;
    X = relativeX;

  }
  
  
  function mouseMoveHandlerY(e) {
    const relativeY = e.clientY - canvas.offsetLeft;
    Ymouse = relativeY;
  }
  
  function mousedown(e) {
    click = true;
    socket.send(`x: ${X}\n`);
    
  }
  
  function mouseup(e) {
    click = false;
  }

   socket.onerror = (err) => {
     console.log(err);
   }
  
    socket.onclose = () => {
      console.log('closed');
    };
  
    socket.onmessage = event => {
      console.log(event);
    };
  
  
  
  
  </script>

</body>
</html>
